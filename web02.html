<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sumber Listrik â€” Toko Elektronik</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; background: #f8fafc; color: #333; }
  header { background: white; border-bottom: 1px solid #ddd; padding: 10px 20px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 100; }
  header h1 { font-size: 20px; color: #2563eb; margin: 0; }
  .search { flex: 1; margin: 0 20px; }
  .search input { width: 100%; padding: 6px 10px; border: 1px solid #ccc; border-radius: 6px; }
  main { max-width: 1200px; margin: auto; padding: 20px; }
  .filters { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
  .filters input, .filters select, .filters button { padding: 6px; border-radius: 6px; border: 1px solid #ccc; }
  .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
  .card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; flex-direction: column; cursor: pointer; }
  .card img { width: 100%; height: 180px; object-fit: cover; }
  .card-content { padding: 10px; flex: 1; display: flex; flex-direction: column; }
  .price { font-weight: bold; color: #2563eb; margin: 5px 0; }
  button { background: #2563eb; color: white; border: none; padding: 8px; border-radius: 5px; cursor: pointer; }
  button:hover { background: #1d4ed8; }
  footer { background: white; border-top: 1px solid #ddd; padding: 15px; text-align: center; font-size: 14px; color: #666; margin-top: 20px; }
  .cart-info { font-size: 14px; color: #2563eb; font-weight: bold; cursor: pointer; }

  /* Modal */
  .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; z-index: 200; }
  .modal-content { background: white; padding: 20px; border-radius: 8px; max-width: 500px; width: 90%; position: relative; }
  .modal-content img { width: 100%; border-radius: 6px; margin-bottom: 10px; }
  .close-btn { position: absolute; top: 10px; right: 10px; cursor: pointer; font-weight: bold; background: #eee; border-radius: 50%; padding: 5px 10px; }
</style>
</head>
<body>

<header>
  <h1>Sumber Listrik</h1>
  <div class="search">
    <input type="text" id="searchBox" placeholder="Cari produk..." />
  </div>
  <div>
    ðŸ›’ <span id="cartCount">0</span> | <span class="cart-info" id="cartTotal">Rp 0</span> | 
    <span class="cart-info" id="checkoutBtn">Checkout</span>
  </div>
</header>

<main>
  <h2>Katalog Produk</h2>
  <div class="filters">
    <input type="number" id="maxPrice" placeholder="Harga Maks (Rp)">
    <select id="sortOption">
      <option value="">Urutkan</option>
      <option value="low">Harga Terendah</option>
      <option value="high">Harga Tertinggi</option>
      <option value="name">Nama Produk</option>
    </select>
    <button id="resetBtn">Reset</button>
  </div>
  <div class="products" id="productList"></div>
</main>

<footer>
  Â© 2025 Sumber Listrik â€” Semua hak cipta dilindungi.
</footer>

<!-- Modal Detail Produk -->
<div class="modal" id="productModal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal('productModal')">Ã—</span>
    <img id="modalImg" src="" alt="">
    <h3 id="modalName"></h3>
    <p id="modalDesc"></p>
    <div class="price" id="modalPrice"></div>
    <button id="modalAddCart">Tambah ke Keranjang</button>
  </div>
</div>

<!-- Modal Checkout -->
<div class="modal" id="checkoutModal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal('checkoutModal')">Ã—</span>
    <h3>Checkout</h3>
    <div id="checkoutList"></div>
    <p><b>Total: </b><span id="checkoutTotal"></span></p>
    <h4>Data Pembeli</h4>
    <input type="text" placeholder="Nama" style="width:100%;margin-bottom:8px;">
    <input type="text" placeholder="Alamat" style="width:100%;margin-bottom:8px;">
    <input type="text" placeholder="Nomor HP" style="width:100%;margin-bottom:8px;">
    <button onclick="alert('Pesanan Anda diproses!')">Konfirmasi Pesanan</button>
  </div>
</div>

<script>
const products = [
  { id: 1, name: "SumberPhone X2 128GB", price: 3799000, image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=600", desc: "Smartphone dengan performa tinggi dan kamera tajam." },
  { id: 2, name: "Laptop Orion 14 Pro", price: 8999000, image: "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=600", desc: "Laptop ringan dengan prosesor terbaru, cocok untuk kerja dan gaming ringan." },
  { id: 3, name: "Headphone BassMax 700", price: 1599000, image: "https://plus.unsplash.com/premium_photo-1679513691474-73102089c117?q=80&w=1113", desc: "Headphone wireless dengan bass menggelegar dan noise cancelling." },
  { id: 4, name: "Smart TV Nebula 55\" 4K", price: 6199000, image: "https://images.unsplash.com/photo-1646861039459-fd9e3aabf3fb?q=80&w=1026", desc: "Smart TV 4K dengan layar jernih dan konektivitas lengkap." }
];

let cart = [];
let cartCount = 0;
let cartTotal = 0;

const productListEl = document.getElementById("productList");
const searchBox = document.getElementById("searchBox");
const maxPriceInput = document.getElementById("maxPrice");
const sortOption = document.getElementById("sortOption");
const resetBtn = document.getElementById("resetBtn");

function renderProducts(list) {
  productListEl.innerHTML = "";
  list.forEach(p => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${p.image}" alt="${p.name}" />
      <div class="card-content">
        <h3>${p.name}</h3>
        <div class="price">Rp ${p.price.toLocaleString("id-ID")}</div>
      </div>
    `;
    card.onclick = () => showProductDetail(p);
    productListEl.appendChild(card);
  });
}

function filterAndSort() {
  let filtered = products.filter(p => {
    const matchesSearch = p.name.toLowerCase().includes(searchBox.value.toLowerCase());
    const withinPrice = !maxPriceInput.value || p.price <= parseInt(maxPriceInput.value);
    return matchesSearch && withinPrice;
  });

  if (sortOption.value === "low") filtered.sort((a,b) => a.price - b.price);
  if (sortOption.value === "high") filtered.sort((a,b) => b.price - a.price);
  if (sortOption.value === "name") filtered.sort((a,b) => a.name.localeCompare(b.name));

  renderProducts(filtered);
}

searchBox.addEventListener("input", filterAndSort);
maxPriceInput.addEventListener("input", filterAndSort);
sortOption.addEventListener("change", filterAndSort);
resetBtn.addEventListener("click", () => {
  searchBox.value = "";
  maxPriceInput.value = "";
  sortOption.value = "";
  filterAndSort();
});

function addToCart(product) {
  cart.push(product);
  cartCount++;
  cartTotal += product.price;
  document.getElementById("cartCount").textContent = cartCount;
  document.getElementById("cartTotal").textContent = "Rp " + cartTotal.toLocaleString("id-ID");
}

function showProductDetail(product) {
  document.getElementById("modalImg").src = product.image;
  document.getElementById("modalName").textContent = product.name;
  document.getElementById("modalDesc").textContent = product.desc;
  document.getElementById("modalPrice").textContent = "Rp " + product.price.toLocaleString("id-ID");
  document.getElementById("modalAddCart").onclick = () => { addToCart(product); closeModal('productModal'); };
  openModal("productModal");
}

function showCheckout() {
  const checkoutList = document.getElementById("checkoutList");
  checkoutList.innerHTML = cart.map(item => `<p>${item.name} - Rp ${item.price.toLocaleString("id-ID")}</p>`).join("");
  document.getElementById("checkoutTotal").textContent = "Rp " + cartTotal.toLocaleString("id-ID");
  openModal("checkoutModal");
}

function openModal(id) {
  document.getElementById(id).style.display = "flex";
}
function closeModal(id) {
  document.getElementById(id).style.display = "none";
}

document.getElementById("checkoutBtn").onclick = showCheckout;

// render awal
filterAndSort();
</script>

</body>
</html>
